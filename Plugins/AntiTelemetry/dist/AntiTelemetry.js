window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const c=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native,window.enmity.modules.common.React,window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function a(e){window.enmity.plugins.registerPlugin(e)}function l(e){return window.enmity.patcher.create(e)}var u="AntiTelemetry",r="1.0.0",y="Obfuscates messages by silently injecting random invisible unicode characters.",g=[{name:"MagicSpells",id:"999391084398522368"}],p={name:u,version:r,description:y,authors:g};const d=l("anti-telemetry"),w=["\u200B","\u200C","\u200D","\uFEFF"],h={...p,onStart(){const e=t=>{var m=t.split(" ");for(var o in m){const n=o[0];var i;if(!n||!(i=n.codePointAt(0))||o.startsWith("http")||o.startsWith(":")&&o.endsWith(":")||o.length<3||n.toLowerCase()==o[0].toUpperCase()||i>127)continue;const s=~~(Math.random()*(o.length-1))+1;o=o.substring(0,s)+w[~~(Math.random()*w.length)]+o.substring(s)}return m.join(" ")};d.instead(c,"sendMessage",(t,m,o)=>{const[i,n]=m;return!(n!=null&&n.content)||!i?o.apply(t,m):(n.content=e(n.content),o.apply(t,[i,n]))})},onStop(){d.unpatchAll()}};a(h);
