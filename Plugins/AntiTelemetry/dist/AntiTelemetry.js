var l=require("emnity/metro/common"),u=require("emnity/managers/plugins"),m=require("emnity/patcher");const i=m.create("anti-telemetry"),o=["\u200B","\u200C","\u200D","\uFEFF"],p={name:"AntiTelemetry",version:"1.0.0",description:"Obfuscates messages by silently injecting random invisible unicode characters.",authors:[{name:"MagicSpells",id:"999391084398522368"}],onStart(){const c=s=>{var t=s.split(" ");for(var e in t){const n=e[0];var r;if(!n||!(r=n.codePointAt(0))||e.startsWith("http")||e.startsWith(":")&&e.endsWith(":")||e.length<3||n.toLowerCase()==e[0].toUpperCase()||r>127)continue;const a=~~(Math.random()*(e.length-1))+1;e=e.substring(0,a)+o[~~(Math.random()*o.length)]+e.substring(a)}return t.join(" ")};i.instead(l.Messages,"sendMessage",(s,t,e)=>{const[r,n]=t;return!(n!=null&&n.content)||!r?e.apply(s,t):(n.content=c(n.content),e.apply(s,[r,n]))})},onStop(){i.unpatchAll()}};u.registerPlugin(p);
